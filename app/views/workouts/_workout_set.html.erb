<%# placeholder for workout_set.photos.attached? %>
<%#<li> <%= workout_set.order_index % </li> %>
<div data-controller="edit-set">
  <div class="row">
    <table class="table table-bordered table-dark m-0 workout-table">
      <thead>
        <tr>
          <th scope="col">Set</th>
          <th scope="col">Reps</th>
          <th scope="col">Weight</th>
          <th scope="col">Difficulty</th>
          <th scope="col">Done</th>
        </tr>
      </thead>
      <tbody>
        <% @workout.workout_sets.where(exercise: exercise.id).order(:id).each_with_index do |workout_set, index| %>
          <tr>
            <%= simple_form_for [workout, workout_set], remote: true, authenticity_token: true, namespace: "set-#{workout_set.id}", html: { class: 'form-inline', data: {edit_set_target: "form"} } do |f| %>
              <th scope="row">
                <p><%= index + 1 %></p>
              </th>
              <td><%= f.input :nb_of_reps, placeholder: workout_set.nb_of_reps, label: false, input_html: { min:"0", max:"30", data: {action: "change->edit-set#update"}} %></td>
              <td><%= f.input :weight, placeholder: workout_set.weight, label: false, input_html: { min:"0", max:"200", step: "#{workout_set.exercise.station.base_incremental_weight}", data: {action: "change->edit-set#update"} } %></td>
              <td><%= f.input :difficulty, label: false, collection: WorkoutSet.difficulties.keys, input_html: {data: {action: "change->edit-set#update"}} %></td>
              <td><%= f.input :completed, class: "checkbox_button", label: false, input_html: {data: {action: "change->edit-set#update"}} %></td>
            <% end %>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
<%#= link_to 'update set', workout_workout_set_path(@workout, workout_set), method: "patch", onclick: "$('#form_id_#{index+1})'.submit()" %>
