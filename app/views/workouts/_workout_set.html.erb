<div class="" data-controller="edit-set">
  <% form_class = 'no-bs-validation form-inline workout-set' %>
  <% if workout_set %>
    <h2 class='text-center'><%= workout_set.exercise.name %></h2>
    <div class="row">
      <div class="col text-center">
        <%# if index == 1 %>Set<br><%# end %>
        <h2><%= workout_set.order_index %>/<%= workout_set.workout.workout_sets.where(exercise: workout_set.exercise).count %></h2>
      </div>
      <% form_class << ' set-completed' if workout_set.completed? %>
      <%= simple_form_for [workout, workout_set], remote: true, namespace: "set-#{workout_set.id}", html: { novalidate: true, class: form_class, data: {edit_set_target: "form"} } do |f| %>
        <%#= hidden_field_tag :index, index %>
        <% index = workout_set.order_index %>
        <%# raise %>
        <div class="col">
          <%# if index == 1 %>Reps<br><%# end %>
          <%= f.input :nb_of_reps, placeholder: workout_set.nb_of_reps, label: false, input_html: { min:"0", max:"30", data: {action: "change->edit-set#update"}} %>
        </div>
        <div class="col">
          <%# if index == 1 %>kg<br><%# end %>
          <%= f.input :weight, placeholder: workout_set.weight, label: false, input_html: { min:"0", max:"200", step: "#{workout_set.exercise.station.base_incremental_weight}", data: {action: "change->edit-set#update"} } %>
        </div>
        <div class="col">
          <%# if index == 1 %>Difficulty<br><%# end %>
          <%= f.input :difficulty, label: false, collection: WorkoutSet.difficulties.keys, input_html: {class: "workout-select-input", data: {action: "change->edit-set#update"}} %>
        </div>
      <% end %>
    </div>
  <% else %>
    <p>Congrats for completing this workout!</p>
  <% end %>
</div>
